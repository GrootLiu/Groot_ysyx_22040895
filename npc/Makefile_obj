default: Vysyx_22040895_top

# Include the rules made by verilator
include Vysyx_22040895_top.mk

# Use OBJCACHE (cccache) if using gmake and its installed
COMPILE.cc = $(OBJCACHE) $(CXX) $(CXXFLAGS) $(CPPFLAGS) $(TARGET_ARCH) -c

# Compile flags

## Turn on creating .d make dependency files
CPPFLAGS += -MMD -MP

## Compile in Verilator runtime debugging, so +verilator+debug works
CPPFLAGS += -DVL_DEBUG=1

## Use the realline lib
LIBS += -lreadline

# itrace
CXXSRC = src/disasm.cc
CXXFLAGS += $(shell llvm-config-13 --cxxflags) -fPIE
LIBS += $(shell llvm-config-13 --libs)
LIBS +=-ldl